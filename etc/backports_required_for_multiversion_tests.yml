# This file is intended to track tests that should be denylisted from multiversion testing due to
# changes that have not yet been backported to the last-lts or last-continuous development
# branches.
#
# Usage:
# Add the server ticket number and the path to the test file for the test you intend to denylist
# under the appropriate multiversion branch. Any test in a (ticket, test_file) pair that appears in this file but
# not in the last-lts or last-continuous branch version of this file indicates that a commit has
# not yet been backported to the last-lts or last-continuous branch and will be excluded from the
# multiversion suite corresponding to the root level suite key.
#
# Example: To prevent 'my_test_file.js' from running with the last-continuous binary
# last-continuous:
#   all:
#   - test_file: jstests/core/my_test_file.js
#     ticket: SERVER-1000
#
# The above example will denylist jstests/core/my_test_file.js from the
# last-continuous branch until this file has been updated with the same
# (ticket, test_file) pair on the last-continuous branch.
#
last-continuous:
  all:
  - test_file: jstests/replsets/dbcheck_skip_applying_batch_on_secondary_parameter.js
    ticket: SERVER-88885
  - test_file: jstests/replsets/ignore_dbcheck_in_startup_recovery.js
    ticket: SERVER-30832
  - test_file: jstests/replsets/ignore_dbcheck_in_rollback.js
    ticket: SERVER-30832
  - test_file: jstests/replsets/ignore_dbcheck_in_initial_sync.js
    ticket: SERVER-80340
  - test_file: jstests/replsets/dbcheck_fails_on_write_concern_error.js
    ticket: SERVER-88318
  - test_file: jstests/sharding/query/find_and_modify_with_partial_shard_key.js
    ticket: SERVER-44422
  - test_file: jstests/sharding/query/delete_with_partial_shard_key.js
    ticket: SERVER-44422
  - test_file: jstests/sharding/database_versioning_all_commands.js
    ticket: SERVER-56887
  - test_file: jstests/sharding/resharding_histogram_metrics.js
    ticket: SERVER-57700
  - test_file: jstests/core/elemmatch_index.js
    ticket: SERVER-90747
  - test_file: jstests/sharding/write_commands_read_concern_validation.js
    ticket: SERVER-58176
  - test_file: jstests/replsets/write_concern_write_to_local.js
    ticket: SERVER-58898
  - test_file: jstests/sharding/resharding_secondary_recovers_temp_ns_metadata.js
    ticket: SERVER-59023
  - test_file: jstests/replsets/rollback_transaction_table.js
    ticket: SERVER-59057
  - test_file: jstests/replsets/sync_source_changes.js
    ticket: SERVER-59290
  - test_file: jstests/core/timeseries/timeseries_find.js
    ticket: SERVER-59505
  - test_file: jstests/replsets/sync_source_selection_ignores_minvalid_after_rollback.js
    ticket: SERVER-59721
  - test_file: jstests/sharding/resharding_secondary_recovers_temp_ns_metadata.js
    ticket: SERVER-59721
  - test_file: jstests/sharding/test_resharding_test_fixture_shutdown_retry_needed.js
    ticket: SERVER-59923
  - test_file: jstests/sharding/cluster_time_across_add_shard.js
    ticket: SERVER-60466
  - test_file: jstests/sharding/range_deleter_interacts_correctly_with_refine_shard_key.js
    ticket: SERVER-61755
  - test_file: jstests/replsets/dbcheck.js
    ticket: SERVER-61757
  - test_file: jstests/change_streams/show_raw_update_description.js
    ticket: SERVER-61894
  - test_file: jstests/change_streams/show_raw_update_description_v1_oplog.js
    ticket: SERVER-61894
  - test_file: jstests/sharding/recover_multiple_migrations_on_stepup.js
    ticket: SERVER-62245
  - test_file: jstests/sharding/migration_recovers_unfinished_migrations.js
    ticket: SERVER-62296
  - test_file: jstests/noPassthrough/operator_counters_accumulators.js
    ticket: SERVER-63049
  - test_file: jstests/core/internal_apply_oplog_update.js
    ticket: SERVER-63159
  - test_file: jstests/sharding/shard_key_index_must_exist.js
    ticket: SERVER-6491
  - test_file: jstests/sharding/query/shard_refuses_cursor_ownership.js
    ticket: SERVER-65259
  - test_file: jstests/aggregation/match_no_swap_rand.js
    ticket: SERVER-66072
  - test_file: jstests/core/or_to_in.js
    ticket: SERVER-66379
  - test_file: jstests/sharding/min_max_key.js
    ticket: SERVER-67529
  - test_file: jstests/core/partial_index_logical.js
    ticket: SERVER-68434
  - test_file: jstests/sharding/resharding_temp_ns_routing_info_unsharded.js
    ticket: SERVER-68628
  - test_file: jstests/sharding/move_chunk_concurrent_cloning.js
    ticket: SERVER-81201
  - test_file: jstests/sharding/move_chunk_interrupt_postimage.js
    ticket: SERVER-68728
  - test_file: jstests/core/timeseries/timeseries_filter_extended_range.js
    ticket: SERVER-69952
  - test_file: jstests/sharding/timeseries_cluster_indexstats.js
    ticket: SERVER-72620
  - test_file: jstests/replsets/quiesce_mode_fails_elections.js
    ticket: SERVER-72774
  - test_file: jstests/core/timeseries/bucket_unpacking_with_sort_extended_range.js
    ticket: SERVER-73110
  - test_file: jstests/core/doc_validation_with_now_variable.js
    ticket: SERVER-73125
  - test_file: jstests/sharding/resharding_interrupt_before_create_state_machine.js
    ticket: SERVER-74647
  - test_file: jstests/sharding/merge_let_params_size_estimation.js
    ticket: SERVER-74806
  - test_file: jstests/core/query/elemmatch/elemmatch_or_pushdown_paths.js
    ticket: SERVER-74954
  - test_file: jstests/core/field_name_validation.js
    ticket: SERVER-75517
  - test_file: jstests/sharding/shard_keys_with_dollar_sign.js
    ticket: SERVER-76948
  - test_file: jstests/core/timeseries/timeseries_create_collection.js
    ticket: SERVER-77382
  - test_file: jstests/core/timeseries/timeseries_field_parsed_as_bson.js
    ticket: SERVER-77654
  - test_file: jstests/replsets/commit_point_propagation_with_oplog_exhaust_cursor.js
    ticket: SERVER-78813
  - test_file: jstests/core/timeseries/timeseries_groupby_reorder.js
    ticket: SERVER-79136
  - test_file: jstests/sharding/fsync_deadlock.js
    ticket: SERVER-78793
  - test_file: jstests/sharding/fsync_lock_unlock.js
    ticket: SERVER-78149
  - test_file: jstests/sharding/block_chunk_migrations_without_hashed_shard_key_index.js
    ticket: SERVER-80947
  - test_file: jstests/sharding/delete_range_deletion_tasks_on_dropped_hashed_shard_key_index.js
    ticket: SERVER-80947
  - test_file: jstests/sharding/move_chunk_basic.js
    ticket: SERVER-81201
  - test_file: jstests/sharding/flushRoutingTableCacheUpdates_enforced_on_collections.js
    ticket: SERVER-81985
  - test_file: jstests/core/match_with_and_or_lockstep_enumeration.js
    ticket: SERVER-83091
  - test_file: jstests/sharding/coordinate_txn_recover_on_stepup_with_tickets_exhausted.js
    ticket: SERVER-82883
  - test_file: jstests/sharding/multi_collection_transaction_placement_conflict_workaround.js
    ticket: SERVER-77506
  - test_file: jstests/sharding/fcv_upgrade_succeeds_when_persisted_collection_cache_missing_uuid_field.js
    ticket: SERVER-82129
  - test_file: jstests/change_streams/dbcheck_oplog_entry.js
    ticket: SERVER-85156
  - test_file: jstests/sharding/multi_collection_transaction_placement_conflict_workaround.js
    ticket: SERVER-82353
  - test_file: jstests/core/txns/out_not_blocked_by_txn.js
    ticket: SERVER-72703
  - test_file: jstests/core/query/bittest.js
    ticket: SERVER-86419
  - test_file: jstests/core/query/internal_strip_invalid_assignment.js
    ticket: SERVER-82717
  - test_file: jstests/noPassthrough/server_status_metrics_retryable_writes.js
    ticket: SERVER-86253
  - test_file: jstests/replsets/reconstruct_prepared_transactions_initial_sync.js
    ticket: SERVER-89618
  - test_file: jstests/core/timeseries/timeseries_lookup.js
    ticket: SERVER-79637
  suites:
    change_streams_multiversion_passthrough: null
    change_streams_sharded_collections_multiversion_passthrough: null
    concurrency_replication_multiversion_passthrough: null
    concurrency_sharded_replication_multiversion_passthrough: null
    replica_sets_jscore_multiversion_passthrough: null
    replica_sets_multiversion: null
    sharded_collections_jscore_multiversion_passthrough: null
    sharding_jscore_multiversion_passthrough: null
last-lts:
  all:
  - test_file: jstests/replsets/dbcheck_skip_applying_batch_on_secondary_parameter.js
    ticket: SERVER-88885
  - test_file: jstests/replsets/dbcheck_fails_on_write_concern_error.js
    ticket: SERVER-88318
  - test_file: jstests/replsets/ignore_dbcheck_in_startup_recovery.js
    ticket: SERVER-30832
  - test_file: jstests/replsets/ignore_dbcheck_in_rollback.js
    ticket: SERVER-30832
  - test_file: jstests/replsets/ignore_dbcheck_in_initial_sync.js
    ticket: SERVER-80340
  - test_file: jstests/core/null_query_semantics.js
    ticket: SERVER-21929
  - test_file: jstests/core/or_to_in.js
    ticket: SERVER-21929
  - test_file: jstests/aggregation/sources/lookup/lookup_null_semantics.js
    ticket: SERVER-21929
  - test_file: jstests/sharding/scaled_collection_stats.js
    ticket: SERVER-43902
  - test_file: jstests/sharding/query/find_and_modify_with_partial_shard_key.js
    ticket: SERVER-44422
  - test_file: jstests/sharding/query/delete_with_partial_shard_key.js
    ticket: SERVER-44422
  - test_file: jstests/core/apply_ops_system_dot_views.js
    ticket: SERVER-47469
  - test_file: jstests/concurrency/fsm_workloads/view_catalog_direct_system_writes.js
    ticket: SERVER-47469
  - test_file: jstests/replsets/invalidate_sessions_on_stepdown.js
    ticket: SERVER-47645
  - test_file: jstests/core/txns/no_writes_to_config_transactions_with_prepared_transaction.js
    ticket: SERVER-48525
  - test_file: jstests/replsets/change_sync_source_in_initial_sync.js
    ticket: SERVER-50320
  - test_file: jstests/sharding/awaitable_hello_primary_failures.js
    ticket: SERVER-50415
  - test_file: jstests/replsets/disconnect_on_legacy_write_to_secondary.js
    ticket: SERVER-50416
  - test_file: jstests/replsets/server_status_repl_is_writable_primary.js
    ticket: SERVER-50420
  - test_file: jstests/core/views/views_all_commands.js
    ticket: SERVER-50640
  - test_file: jstests/sharding/read_write_concern_defaults_application.js
    ticket: SERVER-50640
  - test_file: jstests/sharding/safe_secondary_reads_drop_recreate.js
    ticket: SERVER-50640
  - test_file: jstests/sharding/safe_secondary_reads_single_migration_suspend_range_deletion.js
    ticket: SERVER-50640
  - test_file: jstests/sharding/safe_secondary_reads_single_migration_waitForDelete.js
    ticket: SERVER-50640
  - test_file: jstests/replsets/node_restarts_no_oplog_entry_at_stable.js
    ticket: SERVER-51049
  - test_file: jstests/replsets/awaitable_hello_errors_on_horizon_change.js
    ticket: SERVER-51259
  - test_file: jstests/replsets/awaitable_hello_fcv_change.js
    ticket: SERVER-51259
  - test_file: jstests/replsets/awaitable_hello_metrics_on_state_change.js
    ticket: SERVER-51259
  - test_file: jstests/replsets/awaitable_hello_on_nodes_with_invalid_configs.js
    ticket: SERVER-51259
  - test_file: jstests/replsets/awaitable_hello_stepdown_stepup.js
    ticket: SERVER-51259
  - test_file: jstests/replsets/quiesce_mode.js
    ticket: SERVER-51259
  - test_file: jstests/sharding/mongos_quiesce_mode.js
    ticket: SERVER-51259
  - test_file: jstests/core/txns/errors_on_committed_transaction.js
    ticket: SERVER-52547
  - test_file: jstests/replsets/stepdown_kill_other_ops.js
    ticket: SERVER-53431
  - test_file: jstests/sharding/transactions_reject_writes_for_moved_chunks.js
    ticket: SERVER-55111
  - test_file: jstests/replsets/rollback_with_coalesced_txn_table_updates_during_oplog_application.js
    ticket: SERVER-55305
  - test_file: jstests/replsets/rollback_with_coalesced_txn_table_updates_from_vectored_inserts.js
    ticket: SERVER-55305
  - test_file: jstests/sharding/time_zone_info_mongos.js
    ticket: SERVER-56371
  - test_file: jstests/sharding/txn_writes_during_movechunk.js
    ticket: SERVER-56518
  - test_file: jstests/concurrency/fsm_workloads/collmod_writeconflict.js
    ticket: SERVER-56772
  - test_file: jstests/sharding/database_versioning_all_commands.js
    ticket: SERVER-56887
  - test_file: jstests/core/mod_special_values.js
    ticket: SERVER-57321
  - test_file: jstests/sharding/resharding_histogram_metrics.js
    ticket: SERVER-57700
  - test_file: jstests/core/elemmatch_index.js
    ticket: SERVER-90747
  - test_file: jstests/sharding/rewrite_state_change_errors.js
    ticket: SERVER-57772
  - test_file: jstests/sharding/write_commands_read_concern_validation.js
    ticket: SERVER-58176
  - test_file: jstests/replsets/write_concern_write_to_local.js
    ticket: SERVER-58898
  - test_file: jstests/sharding/resharding_secondary_recovers_temp_ns_metadata.js
    ticket: SERVER-59023
  - test_file: jstests/replsets/rollback_transaction_table.js
    ticket: SERVER-59057
  - test_file: jstests/replsets/sync_source_changes.js
    ticket: SERVER-59290
  - test_file: jstests/core/timeseries/timeseries_find.js
    ticket: SERVER-59505
  - test_file: jstests/replsets/sync_source_selection_ignores_minvalid_after_rollback.js
    ticket: SERVER-59721
  - test_file: jstests/sharding/resharding_secondary_recovers_temp_ns_metadata.js
    ticket: SERVER-59721
  - test_file: jstests/aggregation/expressions/date_add_subtract.js
    ticket: SERVER-59765
  - test_file: jstests/sharding/test_resharding_test_fixture_shutdown_retry_needed.js
    ticket: SERVER-59923
  - test_file: jstests/sharding/cluster_time_across_add_shard.js
    ticket: SERVER-60466
  - test_file: jstests/sharding/range_deleter_interacts_correctly_with_refine_shard_key.js
    ticket: SERVER-61755
  - test_file: jstests/replsets/dbcheck.js
    ticket: SERVER-61757
  - test_file: jstests/change_streams/show_raw_update_description.js
    ticket: SERVER-61894
  - test_file: jstests/change_streams/show_raw_update_description_v1_oplog.js
    ticket: SERVER-61894
  - test_file: jstests/replsets/dbcheck_write_concern.js
    ticket: SERVER-62212
  - test_file: jstests/sharding/recover_multiple_migrations_on_stepup.js
    ticket: SERVER-62245
  - test_file: jstests/sharding/migration_recovers_unfinished_migrations.js
    ticket: SERVER-62296
  - test_file: jstests/core/internal_apply_oplog_update.js
    ticket: SERVER-63159
  - test_file: jstests/replsets/buildindexes_false_commit_quorum.js
    ticket: SERVER-63531
  - test_file: jstests/sharding/update_with_dollar_fields.js
    ticket: SERVER-64485
  - test_file: jstests/sharding/shard_key_index_must_exist.js
    ticket: SERVER-6491
  - test_file: jstests/sharding/query/shard_refuses_cursor_ownership.js
    ticket: SERVER-65259
  - test_file: jstests/aggregation/match_no_swap_rand.js
    ticket: SERVER-66072
  - test_file: jstests/core/or_to_in.js
    ticket: SERVER-66379
  - test_file: jstests/sharding/min_max_key.js
    ticket: SERVER-67529
  - test_file: jstests/core/partial_index_logical.js
    ticket: SERVER-68434
  - test_file: jstests/sharding/resharding_temp_ns_routing_info_unsharded.js
    ticket: SERVER-68628
  - test_file: jstests/sharding/move_chunk_concurrent_cloning.js
    ticket: SERVER-81201
  - test_file: jstests/sharding/move_chunk_interrupt_postimage.js
    ticket: SERVER-68728
  - test_file: jstests/core/timeseries/timeseries_filter_extended_range.js
    ticket: SERVER-69952
  - test_file: jstests/sharding/timeseries_cluster_indexstats.js
    ticket: SERVER-72620
  - test_file: jstests/replsets/quiesce_mode_fails_elections.js
    ticket: SERVER-72774
  - test_file: jstests/core/timeseries/bucket_unpacking_with_sort_extended_range.js
    ticket: SERVER-73110
  - test_file: jstests/core/doc_validation_with_now_variable.js
    ticket: SERVER-73125
  - test_file: jstests/sharding/resharding_interrupt_before_create_state_machine.js
    ticket: SERVER-74647
  - test_file: jstests/sharding/merge_let_params_size_estimation.js
    ticket: SERVER-74806
  - test_file: jstests/core/query/elemmatch/elemmatch_or_pushdown_paths.js
    ticket: SERVER-74954
  - test_file: jstests/core/field_name_validation.js
    ticket: SERVER-75517
  - test_file: jstests/sharding/shard_keys_with_dollar_sign.js
    ticket: SERVER-76948
  - test_file: jstests/core/timeseries/timeseries_create_collection.js
    ticket: SERVER-77382
  - test_file: jstests/core/timeseries/timeseries_groupby_reorder.js
    ticket: SERVER-79136
  - test_file: jstests/sharding/fsync_deadlock.js
    ticket: SERVER-78793
  - test_file: jstests/sharding/fsync_lock_unlock.js
    ticket: SERVER-78149
  - test_file: jstests/sharding/block_chunk_migrations_without_hashed_shard_key_index.js
    ticket: SERVER-80947
  - test_file: jstests/sharding/delete_range_deletion_tasks_on_dropped_hashed_shard_key_index.js
    ticket: SERVER-80947
  - test_file: jstests/sharding/move_chunk_basic.js
    ticket: SERVER-81201
  - test_file: jstests/sharding/flushRoutingTableCacheUpdates_enforced_on_collections.js
    ticket: SERVER-81985
  - test_file: jstests/core/match_with_and_or_lockstep_enumeration.js
    ticket: SERVER-83091
  - test_file: jstests/sharding/coordinate_txn_recover_on_stepup_with_tickets_exhausted.js
    ticket: SERVER-82883
  - test_file: jstests/sharding/multi_collection_transaction_placement_conflict_workaround.js
    ticket: SERVER-77506
  - test_file: jstests/sharding/fcv_upgrade_succeeds_when_persisted_collection_cache_missing_uuid_field.js
    ticket: SERVER-82129
  - test_file: jstests/change_streams/dbcheck_oplog_entry.js
    ticket: SERVER-85156
  - test_file: jstests/sharding/multi_collection_transaction_placement_conflict_workaround.js
    ticket: SERVER-82353
  - test_file: jstests/core/txns/out_not_blocked_by_txn.js
    ticket: SERVER-72703
  - test_file: jstests/core/query/bittest.js
    ticket: SERVER-86419
  - test_file: jstests/core/query/internal_strip_invalid_assignment.js
    ticket: SERVER-82717
  - test_file: jstests/noPassthrough/server_status_metrics_retryable_writes.js
    ticket: SERVER-86253
  - test_file: jstests/replsets/reconstruct_prepared_transactions_initial_sync.js
    ticket: SERVER-89618
  - test_file: jstests/core/timeseries/timeseries_lookup.js
    ticket: SERVER-79637
  - test_file: jstests/replsets/log_wt_stats_during_secondary_oplog_application.js
    ticket: SERVER-78509
  suites:
    change_streams_multiversion_passthrough: null
    change_streams_sharded_collections_multiversion_passthrough: null
    concurrency_replication_multiversion_passthrough: null
    concurrency_sharded_replication_multiversion_passthrough: null
    replica_sets_jscore_multiversion_passthrough: null
    replica_sets_multiversion:
    - test_file: jstests/replsets/disallow_adding_initialized_node1.js
      ticket: SERVER-35649
    sharded_collections_jscore_multiversion_passthrough: null
    sharding_jscore_multiversion_passthrough: null
