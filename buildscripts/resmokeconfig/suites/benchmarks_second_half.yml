test_kind: benchmark_test

selector:
  root: bazel-bin/install/install-mongo_benchmark-stripped_test_list.txt
  # Please always add the glob pattern for the canary tests as part of "include_files" section when
  # defining a new test suite for your benchmarks. Doing so ensures they'll still run as part of the
  # Evergreen task associated with the new test suite.

  # Note: There is no explicit include_files list here. Instead, we automatically get everything
  # from benchmarks.txt, and then subtract the entries from benchmarks_first_half.yml (see below).

  exclude_files:
  # Exclude everything from benchmarks_first_half.yml:
  - bazel-bin/**/bson_bm*
  - bazel-bin/**/base64_bm*
  - bazel-bin/**/lock_manager_bm*
  - bazel-bin/**/uuid_bm*
  - bazel-bin/**/path_lower_bm*
  - bazel-bin/**/storage_record_id_bm*
  - bazel-bin/**/storage_wiredtiger_begin_transaction_block_bm*
  - bazel-bin/**/commands_bm*
  - bazel-bin/**/abt_lowering_bm*
  - bazel-bin/**/logv2_bm*
  - bazel-bin/**/condition_variable_bm*
  - bazel-bin/**/document_bm*
  - bazel-bin/**/decimal_counter_bm*
  - bazel-bin/**/endian_bm*
  - bazel-bin/**/clock_source_bm*
  - bazel-bin/**/quine_mccluskey_bm*
  - bazel-bin/**/string_bm*
  - bazel-bin/**/stacktrace_bm*
  - bazel-bin/**/storage_wiredtiger_index_bm*
  - bazel-bin/**/placement_history_bm*
  - bazel-bin/**/sbe_vm_bm*
  - bazel-bin/**/tick_source_bm*
  - bazel-bin/**/crypto_bm*
  - bazel-bin/**/system_resource_canary_bm*
  - bazel-bin/**/future_bm*

  # The trailing asterisk is for handling the .exe extension on Windows.
  # These benchmarks are being run as part of the benchmarks_sharding.yml test suite.
  - bazel-bin/**/chunk_manager_refresh_bm*
  - bazel-bin/**/migration_chunk_cloner_source_legacy_bm*
  - bazel-bin/**/sharding_write_router_bm*
  # These benchmarks included in the benchmarks_cst.yml test suite are disabled under SERVER-64949.
  # - bazel-bin/**/cst_bm*
  # These benchmarks are being run as part of the benchmarks_bsoncolumn.yml test suite.
  - bazel-bin/**/bsoncolumn_bm*
  - bazel-bin/**/simple8b_bm*
  # Hash table benchmark is really slow, don't run on evergreen
  - bazel-bin/**/hash_table_bm*
  # These benchmarks are being run as part of the benchmarks_query.yml
  - bazel-bin/**/percentile_algo_bm*
  - bazel-bin/**/window_function_percentile_bm*
  - bazel-bin/**/rate_limiting_bm*
  - bazel-bin/**/profile_filter_bm*
  - bazel-bin/**/plan_cache_key_encoding_bm*
  # These benchmarks are being run as part of the benchmarks_expression*.yml
  - bazel-bin/**/expression_bm*
  - bazel-bin/**/sbe_expression_bm*
  # These benchmarks are being run as part of the benchmarks_abt.yml test suite.
  - bazel-bin/**/abt_translation_bm*
  # These benchmarks are only run when modifying or upgrading the immutable library.
  - bazel-bin/**/immutable_absl_comparison_bm*
  - bazel-bin/**/immutable_std_comparison_bm*
  # These benchmarks are being run as part of the benchmarks_replication.yml test suite.
  - bazel-bin/**/oplog_application_bm*
  - bazel-bin/**/oplog_applier_utils_bm*


executor:
  config: {}
  hooks:
  - class: GenerateAndCheckPerfResults
